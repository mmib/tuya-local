name: Smart watering device
products:
  - id: abzzvtulukkwzynv
primary_entity:
  entity: switch
  dps:
    - id: 1
      name: switch
      type: boolean
      mapping:
        - dps_val: true
          icon: mdi:pump
          value: ON
        - dps_val: false
          icon: mdi:pump-off
          value: OFF
secondary_entities:
  - entity: select
    name: "Mode"
    icon: "mdi:auto-mode"
    dps:
      - id: 2
        type: string
        name: option
        mapping:
          - dps_val: "auto"
            value: "Auto"
          - dps_val: "manual"
            value: "Manual"
  - entity: number
    name: "Timer"
    icon: "mdi:timer"
    category: config
    dps:
      - id: 56
        type: integer
        name: value
        unit: s
        range:
          min: 0
          max: 360
  - entity: select
    name: "Pump"
    icon: "mdi:pump"
    category: config
    dps:
      - id: 28
        type: string
        name: option
        mapping:
          - dps_val: "PumpA"
            value: "A"
          - dps_val: "PumpB"
            value: "B"
          - dps_val: "PumpAB"
            value: "A and B"
  - entity: number
    icon: "mdi:repeat"
    name: "Repeat manual run every"
    category: config
    dps:
      - id: 101
        type: integer
        name: value
        unit: h
        range:
          min: 0
          max: 60
  - entity: sensor
    name: "Run time remaining"
    icon: "mdi:timer-sand"
    dps:
      - id: 102
        type: integer
        name: sensor
        unit: s
        range:
          min: 0
          max: 360
  - entity: sensor
    name: "Automatic Schedule"
    icon: "mdi:calendar"
    category: diagnostic
    dps:
      - id: 48
        optional: true
        type: string
        name: sensor
  - entity: sensor
    name: "Runtime"
    category: diagnostic
    dps:
      - id: 10
        optional: true
        type: number
        name: sensor
